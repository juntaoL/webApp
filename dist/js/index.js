var app=angular.module("app",["ui.router"]);angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",views:{home:{templateUrl:"../views/home_tpl.html",controller:"HomeController"},author:{template:"<h2>author</h2>"},content:{template:"<h2>content</h2>"},my:{template:"<h2>my</h2>"}}}).state("home.list",{url:"/list",templateUrl:"../views/list_tpl.html"}).state("home.detail",{url:"/detail/:id",template:"<details></details>",controller:"DetailController"}),e.otherwise("home/list")}]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://localhost:8080/api/**"])}]),angular.module("app").controller("AppController",["$scope","$window",function(t,e){t.appTitle="每日一刻",t.title="首页",t.id=0,t.$on("tab_notifice",function(e,o){console.log(o.id);var l=["首页","作者","栏目","我"];t.id=o.id,t.title=l[o.id]}),t.back=function(){e.history.back()}}]),angular.module("app").controller("DetailController",["$scope","$stateParams",function(t,e){var o=e.id;t.item=t.homeData.posts[o],console.log(t.item)}]),angular.module("app").controller("HomeController",["$scope","xmgHttp",function(t,e){t.title="首页1";e.jsonp("http://localhost:8080/api/home.php",null,function(e){console.log(e),t.homeData=e.data},function(t){console.log(t)})}]),angular.module("app").controller("TabbarController",["$scope",function(t){t.tabChange=function(e){t.$emit("tab_notifice",{id:e})}}]),angular.module("app").directive("details",function(){return{restrict:"EA",template:'<div class="home_detail"><div ui-view></div></div>',replace:!0,link:function(t,e,o){e.html(t.item.content)}}}),angular.module("app").directive("navs",function(){return{restrict:"EA",templateUrl:"../views/nav_tpl.html",controller:["$scope",function(t){t.$on("home_notifice",function(e,o){console.log(o.title),t.title=o.title})}],link:function(t,e,o){"true"!=o.isBack&&e.find("span").css({display:"none"})}}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",templateUrl:"../views/tabbar_tpl.html",controller:"TabbarController",replace:!0,link:function(t,e,o){t.$watch("id",function(o,l){for(var n=e.children()[0].children,a=0;a<n.length;a++)n[a].className="";n[t.id].className="active"})}}}),angular.module("app").service("xmgHttp",["$http",function(t){this.jsonp=function(e,o,l,n){t({url:e,method:"jsonp",params:o}).then(function(t){l&&l(t)}).catch(function(t){n&&n(t)})},this.getData=function(){},this.postData=function(){}}]);